{{/*
  檔案路徑: services/control-plane/web/templates/partials/incident-details-modal.html
  說明: 顯示單一事件詳細資訊的模態框。
*/}}

{{template "components/modal.html" .}}

{{define "modal-title"}}
事件詳情
{{end}}

{{define "modal-body"}}
<div class="space-y-4">
    <div>
        <h4 class="text-lg font-bold">{{.Incident.Title}}</h4>
        <p class="text-sm text-gray-500">觸發時間: {{.Incident.CreatedAt}}</p>
    </div>
    <div class="grid grid-cols-2 gap-4">
        <div>
            <label class="block text-sm font-medium text-gray-700">狀態</label>
            <select class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                <option {{if eq .Incident.Status "new"}}selected{{end}}>新告警</option>
                <option {{if eq .Incident.Status "acknowledged"}}selected{{end}}>處理中</option>
                <option {{if eq .Incident.Status "resolved"}}selected{{end}}>已解決</option>
            </select>
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700">確認人員</label>
            <p class="mt-1 text-gray-900">{{.Incident.Assignee | or "-"}}</p>
        </div>
    </div>
    <div class="flex items-center space-x-2">
        <button class="px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700">確認收到 (Ack)</button>
        <button class="px-4 py-2 text-sm font-medium text-indigo-700 bg-indigo-100 rounded-md hover:bg-indigo-200">
            <i data-lucide="brain-circuit" class="inline-block w-4 h-4 mr-1"></i>
            AI 分析
        </button>
    </div>
    <div>
        <h5 class="font-semibold mt-4 mb-2">處理紀錄</h5>
        <div class="text-sm text-gray-500 bg-gray-50 p-3 rounded-md min-h-[50px]">
            尚無處理紀錄。
        </div>
        <textarea class="mt-2 w-full rounded-md border-gray-300 shadow-sm" placeholder="新增處理紀錄..."></textarea>
    </div>
</div>
{{end}}

{{define "modal-footer"}}
<button type="button" class="px-4 py-2 text-sm font-medium text-white bg-blue-700 rounded-md hover:bg-blue-800">新增紀錄</button>
<button @click="open = false" type="button" class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50">關閉</button>
{{end}}
