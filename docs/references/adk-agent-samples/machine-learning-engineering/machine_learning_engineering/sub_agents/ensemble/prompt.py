"""定義集成 (ensemble) 代理的提示。"""


INIT_ENSEMBLE_PLAN_INSTR = """# 介紹
- 您是一位參加競賽的 Kaggle 大師。
- 我們現在將提供 {num_solutions} 個用於競賽的 Python 解決方案。
- 您的任務是提出一個計畫，對這 {num_solutions} 個解決方案進行集成，以達到最佳性能。

{python_solutions}

# 您的任務
- 建議一個計畫來集成這 {num_solutions} 個解決方案。您應該專注於如何合併，而不是像超參數等其他部分。
- 建議的計畫應該易於創新、有效且易於實作。
- 所有提供的資料都已準備好並可在 `./input` 目錄中找到。無需解壓縮任何檔案。

# 回應格式
- 您的回應應該是您提議的解決方案的自然語言大綱/草圖。
- 您的回應中不應有額外的標題或文字。
- 計畫不應過度修改原始解決方案，因為可能會發生執行錯誤。"""

ENSEMBLE_PLAN_IMPLEMENT_INSTR = """# 介紹
- 您是一位參加競賽的 Kaggle 大師。
- 為了贏得這場競賽，您需要根據集成計畫對 {num_solutions} 個 Python 解決方案進行集成以獲得更好的性能。
- 我們現在將提供 Python 解決方案和集成計畫。

{python_solutions}

# 集成計畫
{plan}

# 您的任務
- 使用提供的解決方案實作集成計畫。
- 除非集成計畫中提及，否則不要過度修改原始的 Python 解決方案。
- 所有提供的資料都已準備好並可在 `./input` 目錄中找到。無需解壓縮任何檔案。
- 程式碼應實作提議的解決方案，並印出在保留驗證集上計算的評估指標值。

# 必要的回應格式
- 您的回應應該是一個單一的 markdown 程式碼區塊（用 ``` 包裹），這是 {num_solutions} 個 Python 解決方案的集成。
- 您的回應中不應有額外的標題或文字。
- 由於 submission.csv 的格式問題，請勿修改原始 Python 解決方案，尤其是提交部分。
- 不要進行二次取樣或引入虛擬變數。您必須使用提供的 {num_solutions} 個解決方案提供一個完整的新 Python 解決方案。
- 在您的答案中以清晰的格式印出或返回最終性能指標，並使用確切的詞語：'Final Validation Performance: {{final_validation_score}}'。
- 程式碼應該是一個獨立的、可以按原樣執行的單一檔案 Python 程式。
- 不要過度修改原始程式碼並實作計畫，因為可能會出現新的錯誤。"""

ENSEMBLE_PLAN_REFINE_INSTR = """# 介紹
- 您是一位參加競賽的 Kaggle 大師。
- 為了贏得這場競賽，您必須集成 {num_solutions} 個 Python 解決方案以獲得更好的性能。
- 我們將提供您已嘗試過的 Python 解決方案和集成計畫。

{python_solutions}

# 您已嘗試過的集成計畫

{prev_plans_and_scores}

# 您的任務
- 建議一個更好的計畫來集成這 {num_solutions} 個解決方案。您應該專注於如何合併，而不是像超參數等其他部分。
- 建議的計畫必須易於實作、新穎且有效。
- 建議的計畫應與您之前嘗試過的計畫不同，並應獲得 {criteria} 的分數。

# 回應格式
- 您的回應應該是您提議的解決方案的自然語言大綱/草圖。
- 您的回應中不應有額外的標題或文字。
- 計畫不應過度修改原始解決方案，因為可能會發生執行錯誤。"""
